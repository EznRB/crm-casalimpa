exports.id=62,exports.ids=[62],exports.modules={8914:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},9414:(e,t,r)=>{Promise.resolve().then(r.bind(r,8410))},3818:(e,t,r)=>{Promise.resolve().then(r.bind(r,6507))},6507:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(326);function o({error:e,reset:t}){return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Ocorreu um erro"}),a.jsx("p",{className:"text-gray-600 mb-4",children:e?.message||"Erro inesperado"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Tentar novamente"}),a.jsx("button",{onClick:()=>location.reload(),className:"bg-gray-200 px-4 py-2 rounded",children:"Recarregar p\xe1gina"})]})]})}r(7577)},8410:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(326),o=r(434),n=r(7577),i=r(5047),s=r(2777);function c(){let[e,t]=(0,n.useState)(!1);return(0,a.jsxs)("button",{onClick:()=>{let r=!e;t(r);let a=document.documentElement;if(r){a.classList.add("dark");try{localStorage.setItem("theme","dark")}catch{}}else{a.classList.remove("dark");try{localStorage.setItem("theme","light")}catch{}}},"aria-label":e?"Ativar modo claro":"Ativar modo escuro",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("span",{className:"h-4 w-4 mr-2",children:e?"☀":"\uD83C\uDF19"}),e?"Claro":"Escuro"]})}let l=[{name:"Dashboard",href:"/",icon:void 0},{name:"Clientes",href:"/clientes",icon:void 0},{name:"Agendamentos",href:"/agendamentos",icon:void 0},{name:"Or\xe7amentos",href:"/orcamentos",icon:void 0},{name:"Faturas",href:"/faturas",icon:void 0},{name:"Funcion\xe1rios",href:"/funcionarios",icon:void 0},{name:"Relat\xf3rios",href:"/relatorios",icon:void 0},{name:"Fluxo de Caixa",href:"/fluxo-caixa",icon:void 0},{name:"Configura\xe7\xf5es",href:"/configuracoes",icon:void 0}];function d(){(0,i.usePathname)();let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(!1),d=async()=>{s.O&&(await s.O.auth.signOut(),e.push("/login"))};return a.jsx("nav",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 md:gap-6 py-3 md:py-4",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Casa Limpa CRM"})}),a.jsx("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-start overflow-x-auto whitespace-nowrap sm:justify-center md:flex-wrap md:overflow-visible md:whitespace-normal gap-x-3 md:gap-x-6 lg:gap-x-10 md:gap-y-2",children:[l.slice(0,5).map(e=>(e.href,a.jsx(o.default,{href:e.href,prefetch:!1,className:`$
                      isActive
                        ? 'border-primary-500 text-gray-900 dark:text-gray-100'
                        : 'border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-700 hover:text-gray-700 dark:hover:text-gray-200'
                    } inline-flex items-center px-2 md:px-3 py-1.5 border-b-2 text-sm md:text-sm lg:text-base font-medium`,children:e.name},e.name))),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>r(e=>!e),className:"border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-700 hover:text-gray-700 dark:hover:text-gray-200 inline-flex items-center px-2 md:px-3 py-1.5 border-b-2 text-sm md:text-sm lg:text-base font-medium",children:[a.jsx("span",{className:"h-4 w-4 mr-2",children:"▼"}),"Mais"]}),t&&a.jsx("div",{className:"absolute right-0 z-50 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5",children:a.jsx("div",{className:"py-1",children:l.slice(5).map(e=>(e.href,a.jsx(o.default,{href:e.href,prefetch:!1,className:`$
                              isActive
                                ? 'bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100'
                                : 'text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700'
                            } flex items-center px-3 py-2 text-sm font-medium`,onClick:()=>r(!1),children:e.name},e.name)))})})]})]})}),(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[a.jsx(c,{}),(0,a.jsxs)("button",{onClick:d,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("span",{className:"h-4 w-4 mr-2",children:"⎋"}),"Sair"]})]})]})})})}},6499:(e,t,r)=>{"use strict";r.d(t,{$J:()=>v,A9:()=>q,BX:()=>O,By:()=>y,CF:()=>h,FG:()=>f,G6:()=>l,HG:()=>_,J5:()=>D,KB:()=>E,LA:()=>n,OL:()=>o,Ol:()=>R,Ov:()=>m,P6:()=>C,Pc:()=>b,Pg:()=>d,QR:()=>P,Rt:()=>I,Ts:()=>g,U2:()=>s,UO:()=>M,V2:()=>w,Z$:()=>p,fN:()=>S,fg:()=>x,h4:()=>L,hH:()=>k,np:()=>z,p9:()=>u,r8:()=>N,tI:()=>j,wK:()=>i,wo:()=>c,xd:()=>A,yo:()=>T});var a=r(2777);async function o(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("customers").select("*").order("name");if(t)throw t;return e||[]}async function n(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{error:t}=await a.O.from("customers").delete().eq("id",e);if(t)throw t}async function i(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("customers").insert([e]).select("*").single();if(r)throw r;return t}async function s(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("services").select("*").order("name");if(t)throw t;return e||[]}async function c(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{error:t}=await a.O.from("services").delete().eq("id",e);if(t)throw t}async function l(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("services").insert([e]).select("*").single();if(r)throw r;return t}async function d(e,t){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:r,error:o}=await a.O.from("services").update(t).eq("id",e).select("*").single();if(o)throw o;return r}async function m(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("invoices").select(`
      id,
      invoice_number,
      issue_date,
      due_date,
      subtotal,
      tax,
      total,
      status,
      pdf_url,
      appointments ( customers (name), services (name) )
    `).order("issue_date",{ascending:!1});if(t)throw t;return e||[]}async function f(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("invoices").select(`
      id,
      invoice_number,
      issue_date,
      due_date,
      subtotal,
      tax,
      total,
      status,
      pdf_url,
      appointments ( customers (name), services (name) )
    `).eq("id",e).single();if(r)throw r;return t||null}async function u(e){if(!a.O)throw Error("Supabase n\xe3o configurado");if(!e||0===e.length)return[];let{data:t,error:r}=await a.O.from("invoices").select("appointment_id").in("appointment_id",e);if(r)throw r;return t||[]}async function p(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("invoices").insert([e]).select("*").single();if(r)throw r;return t}async function h(e,t){let r=await fetch(`/api/invoices/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error(e?.error||"Falha ao atualizar fatura")}}async function g(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("appointments").select("*, customers (name, phone), services (name, duration_minutes)");if(t)throw t;return e||[]}async function w(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{error:t}=await a.O.from("appointments").delete().eq("id",e);if(t)throw t}async function y(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("appointments").select("*");if(t)throw t;return e||[]}async function b(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("appointments").insert([e]).select("*").single();if(r)throw r;return t}async function x(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("appointments").select("*, customers (name, phone, email), services (name, duration_minutes)");if(t)throw t;return e||[]}async function O(e){let t,r;if(!a.O)throw Error("Supabase n\xe3o configurado");if(e&&/^\d{4}-\d{2}$/.test(e)){let[a,o]=e.split("-").map(Number),n=new Date(Date.UTC(a,o-1,1)),i=new Date(Date.UTC(a,o,1));t=n.toISOString().slice(0,10),r=i.toISOString().slice(0,10)}let o=a.O.from("cashflow_transactions").select("id, type, category, amount, transaction_date, client_id");t&&r&&(o=o.gte("transaction_date",t).lt("transaction_date",r));let{data:n,error:i}=await o;if(i)throw i;let s=(n||[]).filter(e=>"income"===e.type).reduce((e,t)=>e+Number(t.amount||0),0),c=(n||[]).filter(e=>"expense"===e.type).reduce((e,t)=>e+Number(t.amount||0),0),l={};(n||[]).filter(e=>"expense"===e.type).forEach(e=>{let t=e.category||"outros";l[t]=(l[t]||0)+Number(e.amount||0)});let d=[],m=Array.from(new Set((n||[]).filter(e=>"income"===e.type&&e.client_id).map(e=>e.client_id)));if(m.length>0){let{data:e}=await a.O.from("customers").select("id, name").in("id",m),t={};(n||[]).filter(e=>"income"===e.type&&e.client_id).forEach(e=>{let r=e.client_id;t[r]=(t[r]||0)+Number(e.amount||0)}),(d=(e||[]).map(e=>({client_id:e.id,name:e.name,total:t[e.id]||0}))).sort((e,t)=>t.total-e.total)}return{month:e||null,summary:{income:s,expense:c,net:s-c},expenseByCategory:l,incomeByClient:d}}async function v(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let t={type:"expense",category:e.category||"other",amount:Number(e.amount||0),transaction_date:(e.date||new Date().toISOString()).slice(0,10),description:e.description||null};if(!t.amount||t.amount<=0)throw Error("Valor inv\xe1lido");let{data:r,error:o}=await a.O.from("cashflow_transactions").insert(t).select("*").single();if(o)throw o;return r}async function S(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("employees").select("*");if(t)throw t;return e||[]}async function k(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("employee_work_records").select("*").eq("employeeId",e);if(r)throw r;return t||[]}async function j(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e}=await a.O.from("company").select("*").single();return e||null}async function E(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("employees").select("*").eq("id",e).single();if(r)throw r;return t||null}async function N(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let t=(e.cpf||"").toString().replace(/\D/g,"");if(!t)throw Error("CPF inv\xe1lido");let{data:r}=await a.O.from("employees").select("id").eq("cpf",t).limit(1);if(r&&r.length>0)throw Error("CPF j\xe1 cadastrado");let{error:o}=await a.O.from("employees").insert([{...e,cpf:t}]);if(o)throw o}async function _(e,t){if(!a.O)throw Error("Supabase n\xe3o configurado");let r=(t.cpf||"").toString().replace(/\D/g,"");if(r){let{data:t}=await a.O.from("employees").select("id").eq("cpf",r).neq("id",e).limit(1);if(t&&t.length>0)throw Error("CPF j\xe1 cadastrado")}let{error:o}=await a.O.from("employees").update({...t,cpf:r||t.cpf}).eq("id",e);if(o)throw o}async function C(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{error:t}=await a.O.from("employees").delete().eq("id",e);if(t)throw t}async function D(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let t={employeeId:e.employeeId,workDate:e.workDate,workDays:e.workDays,dailyRate:e.dailyRate,totalAmount:Number(e.dailyRate||0)*Number(e.workDays||0),notes:e.notes||null,paid:!1},{error:r}=await a.O.from("employee_work_records").insert([t]);if(r)throw r}async function I(e,t){let r=await fetch(`/api/employees/work-records/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paid:t})});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error(e?.error||"Falha ao atualizar registro de trabalho")}}async function q(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let t={name:e.name,cnpj:e.cnpj,phone:e.phone,email:e.email,address:e.address,bank_info:e.bank_info,logo_url:e.logo_url,updated_at:new Date().toISOString()};if(e.id){let{data:r,error:o}=await a.O.from("company").update(t).eq("id",e.id).select("*").single();if(o)throw o;return r}{let{data:e,error:r}=await a.O.from("company").insert(t).select("*").single();if(r)throw r;return e}}async function P(){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:e,error:t}=await a.O.from("quotes").select("*, customers (name, phone), services (name)");if(t){if("PGRST205"===t.code)return[];throw t}return(e||[]).sort((e,t)=>(t.created_at||"").localeCompare(e.created_at||""))}async function R(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("quotes").insert([e]).select("*").single();if(r)throw r;return t}async function A(e,t){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:r,error:o}=await a.O.from("quotes").update(t).eq("id",e).select("*").single();if(o)throw o;return r}async function M(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{error:t}=await a.O.from("quotes").delete().eq("id",e);if(t)throw t}async function L(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:t,error:r}=await a.O.from("quote_items").insert([e]).select("*").single();if(r)throw r;return t}async function T(e,t){if(!a.O)throw Error("Supabase n\xe3o configurado");let{data:r,error:o}=await a.O.from("quote_items").update(t).eq("id",e).select("*").single();if(o)throw o;return r}async function z(e){if(!a.O)throw Error("Supabase n\xe3o configurado");let{error:t}=await a.O.from("quote_items").delete().eq("id",e);if(t)throw t}},2777:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var a=r(2817);let o="https://hyygforlvwbbdzpctnid.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWdmb3JsdndiYmR6cGN0bmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNjY1NjksImV4cCI6MjA3ODg0MjU2OX0.1ih4fZRYRzg1oqZxAYonDPi5wO2-DHvb7anjcSPWeqs",i="string"==typeof o&&"string"==typeof n&&o.startsWith("https://")&&o.includes(".supabase.co")&&!o.includes("example.supabase.co")&&n.length>20?(0,a.createBrowserClient)(o,n):null},7629:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>s});var a=r(8570);let o=(0,a.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\app\error.tsx`),{__esModule:n,$$typeof:i}=o;o.default;let s=(0,a.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\app\error.tsx#default`)},564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>m,viewport:()=>f});var a=r(9510),o=r(5384),n=r.n(o);r(5023);var i=r(8570);let s=(0,i.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\components\Navigation.tsx`),{__esModule:c,$$typeof:l}=s;s.default;let d=(0,i.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\components\Navigation.tsx#default`),m={title:"Casa Limpa - CRM",description:"Sistema de gerenciamento para servi\xe7os de limpeza",manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"default",title:"Casa Limpa CRM"},other:{"mobile-web-app-capable":"yes","apple-mobile-web-app-capable":"yes","apple-mobile-web-app-status-bar-style":"default"}},f={themeColor:"#3b82f6"};function u({children:e}){return(0,a.jsxs)("html",{lang:"pt-BR",suppressHydrationWarning:!0,children:[(0,a.jsxs)("head",{children:[a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.jsx("link",{rel:"manifest",href:"/manifest.json"}),a.jsx("link",{rel:"apple-touch-icon",href:"/icon-192x192.png"}),a.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),a.jsx("meta",{name:"apple-mobile-web-app-title",content:"Casa Limpa CRM"}),a.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),a.jsx("script",{dangerouslySetInnerHTML:{__html:"(() => { try { const t = localStorage.getItem('theme'); const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches; const isDark = t ? t === 'dark' : prefersDark; if (isDark) document.documentElement.classList.add('dark'); } catch {} })();"}})]}),(0,a.jsxs)("body",{className:`${n().className} bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100`,children:[a.jsx(d,{}),a.jsx("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e})]})]})}},5023:()=>{}};