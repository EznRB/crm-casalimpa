"use strict";(()=>{var e={};e.id=84,e.ids=[84],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2034:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>d});var n=r(9303),o=r(8716),a=r(670),i=r(7070),u=r(748),c=r(3895);async function p(e){let t=Date.now(),r={requestId:e.headers.get("x-request-id")||void 0,path:e.nextUrl.pathname,method:e.method};c.k.info("api_request_start",r);let{supabase:s,user:n}=await (0,u.n)(e);if(!n)return c.k.warn("not_authenticated",r),i.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let{data:o,error:a}=await s.from("services").select("*").order("name",{ascending:!0});if(a)return c.k.error("services_list_failed",{...r,err:a.message}),i.NextResponse.json({error:a.message},{status:400});let p=i.NextResponse.json(o??[]);return c.k.info("api_request_end",{...r,status:p.status,duration_ms:Date.now()-t}),p}async function d(e){let t=Date.now(),r={requestId:e.headers.get("x-request-id")||void 0,path:e.nextUrl.pathname,method:e.method};c.k.info("api_request_start",r);let{supabase:s,user:n}=await (0,u.n)(e);if(!n)return c.k.warn("not_authenticated",r),i.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let o=await e.json(),{data:a,error:p}=await s.from("services").insert([o]).select("*").single();if(p)return c.k.error("services_create_failed",{...r,err:p.message}),i.NextResponse.json({error:p.message},{status:400});let d=i.NextResponse.json(a,{status:201});return c.k.info("api_request_end",{...r,status:d.status,duration_ms:Date.now()-t}),d}let l=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/services/route",pathname:"/api/services",filename:"route",bundlePath:"app/api/services/route"},resolvedPagePath:"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\api\\services\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:g}=l,v="/api/services/route";function h(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},3895:(e,t,r)=>{r.d(t,{k:()=>u});let s={debug:10,info:20,warn:30,error:40},n=process.env.SERVICE_NAME||"crm-casa-limpa",o=process.env.LOG_LEVEL||"info",a="pretty"===process.env.LOG_FORMAT;function i(e,t,r){if(s[e]<s[o])return;let i={ts:new Date().toISOString(),level:e,env:"production",service:n,msg:t,...r||{}};if(a){let t=`[${i.ts}] ${e.toUpperCase()} ${i.msg} ${JSON.stringify(r||{})}`;"error"===e?console.error(t):"warn"===e?console.warn(t):console.log(t)}else{let t=JSON.stringify(i);"error"===e?console.error(t):"warn"===e?console.warn(t):console.log(t)}}let u={debug:(e,t)=>i("debug",e,t),info:(e,t)=>i("info",e,t),warn:(e,t)=>i("warn",e,t),error:(e,t)=>i("error",e,t)}},748:(e,t,r)=>{r.d(t,{n:()=>n});var s=r(2305);async function n(e){let t=(0,s.createServerClient)("https://hyygforlvwbbdzpctnid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWdmb3JsdndiYmR6cGN0bmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNjY1NjksImV4cCI6MjA3ODg0MjU2OX0.1ih4fZRYRzg1oqZxAYonDPi5wO2-DHvb7anjcSPWeqs",{cookies:{getAll:()=>e.cookies.getAll(),setAll(t){t.forEach(({name:t,value:r})=>e.cookies.set(t,r))}}}),{data:{user:r}}=await t.auth.getUser();return{supabase:t,user:r}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972,2305],()=>r(2034));module.exports=s})();