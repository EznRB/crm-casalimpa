"use strict";(()=>{var e={};e.id=4204,e.ids=[4204],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4413:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>m,serverHooks:()=>j,staticGenerationAsyncStorage:()=>l});var n={};s.r(n),s.d(n,{GET:()=>u,POST:()=>c});var r=s(9303),o=s(8716),a=s(670),i=s(7070),p=s(748);async function u(e){let{supabase:t,user:s}=await (0,p.n)(e);if(!s)return i.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let{searchParams:n}=new URL(e.url),r=n.get("from"),o=n.get("to"),a=t.from("appointments").select("*, customers(name, phone), services(name, duration_minutes)");r&&o&&(a=a.gte("appointment_date",r).lte("appointment_date",o));let{data:u,error:c}=await a.order("appointment_date",{ascending:!1}).order("appointment_time",{ascending:!0});return c?i.NextResponse.json({error:c.message},{status:400}):i.NextResponse.json(u??[])}async function c(e){let{supabase:t,user:s}=await (0,p.n)(e);if(!s)return i.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let n=await e.json(),{data:r,error:o}=await t.from("appointments").insert([n]).select("*, customers(name, phone), services(name, duration_minutes)").single();return o?i.NextResponse.json({error:o.message},{status:400}):i.NextResponse.json(r,{status:201})}let m=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/jobs/route",pathname:"/api/jobs",filename:"route",bundlePath:"app/api/jobs/route"},resolvedPagePath:"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\api\\jobs\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:j}=m,g="/api/jobs/route";function h(){return(0,a.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:l})}},748:(e,t,s)=>{s.d(t,{n:()=>r});var n=s(2305);async function r(e){let t=(0,n.createServerClient)("https://hyygforlvwbbdzpctnid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWdmb3JsdndiYmR6cGN0bmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNjY1NjksImV4cCI6MjA3ODg0MjU2OX0.1ih4fZRYRzg1oqZxAYonDPi5wO2-DHvb7anjcSPWeqs",{cookies:{getAll:()=>e.cookies.getAll(),setAll(t){t.forEach(({name:t,value:s})=>e.cookies.set(t,s))}}}),{data:{user:s}}=await t.auth.getUser();return{supabase:t,user:s}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[8948,5972,2305],()=>s(4413));module.exports=n})();