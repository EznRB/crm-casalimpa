"use strict";(()=>{var e={};e.id=5957,e.ids=[5957],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7608:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>j,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>f});var r={};o.r(r),o.d(r,{DELETE:()=>l,GET:()=>c,PUT:()=>p});var s=o(9303),n=o(8716),i=o(670),a=o(7070),u=o(748);async function c(e,{params:t}){let{supabase:o,user:r}=await (0,u.n)(e);if(!r)return a.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let{data:s,error:n}=await o.from("employees").select("*").eq("id",t.id).single();return n||!s?a.NextResponse.json({error:"Funcion\xe1rio n\xe3o encontrado"},{status:404}):a.NextResponse.json(s)}async function p(e,{params:t}){let{supabase:o,user:r}=await (0,u.n)(e);if(!r)return a.NextResponse.json({error:"N\xe3o autenticado"},{status:401});try{let r=await e.json(),s=String(r.cpf??"").replace(/\D/g,""),n={...r,cpf:s},{data:i,error:u}=await o.from("employees").update(n).eq("id",t.id).select("*").single();if(u)throw u;return a.NextResponse.json(i)}catch(e){return console.error("Erro ao atualizar funcion\xe1rio:",e),a.NextResponse.json({error:"Erro ao atualizar funcion\xe1rio"},{status:500})}}async function l(e,{params:t}){let{supabase:o,user:r}=await (0,u.n)(e);if(!r)return a.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let{error:s}=await o.from("employees").delete().eq("id",t.id);return s?(console.error("Erro ao excluir funcion\xe1rio:",s),a.NextResponse.json({error:"Erro ao excluir funcion\xe1rio"},{status:500})):a.NextResponse.json({message:"Funcion\xe1rio exclu\xeddo com sucesso"})}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/employees/[id]/route",pathname:"/api/employees/[id]",filename:"route",bundlePath:"app/api/employees/[id]/route"},resolvedPagePath:"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\api\\employees\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:x}=d,j="/api/employees/[id]/route";function y(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:f})}},748:(e,t,o)=>{o.d(t,{n:()=>s});var r=o(2305);async function s(e){let t=(0,r.createServerClient)("https://hyygforlvwbbdzpctnid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWdmb3JsdndiYmR6cGN0bmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNjY1NjksImV4cCI6MjA3ODg0MjU2OX0.1ih4fZRYRzg1oqZxAYonDPi5wO2-DHvb7anjcSPWeqs",{cookies:{getAll:()=>e.cookies.getAll(),setAll(t){t.forEach(({name:t,value:o})=>e.cookies.set(t,o))}}}),{data:{user:o}}=await t.auth.getUser();return{supabase:t,user:o}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[8948,5972,2305],()=>o(7608));module.exports=r})();