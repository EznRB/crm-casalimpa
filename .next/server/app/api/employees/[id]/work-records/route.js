"use strict";(()=>{var e={};e.id=6736,e.ids=[6736],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2779:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>w,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var t={};o.r(t),o.d(t,{GET:()=>p,POST:()=>d});var s=o(9303),a=o(8716),i=o(670),n=o(7070),c=o(748);async function p(e,{params:r}){let{supabase:o,user:t}=await (0,c.n)(e);if(!t)return n.NextResponse.json({error:"N\xe3o autenticado"},{status:401});let{data:s,error:a}=await o.from("employee_work_records").select("*").eq("employeeId",r.id).order("workDate",{ascending:!1});return a?(console.error("Erro ao buscar registros de trabalho:",a),n.NextResponse.json({error:"Erro ao buscar registros de trabalho"},{status:500})):n.NextResponse.json(s??[])}async function d(e,{params:r}){let{supabase:o,user:t}=await (0,c.n)(e);if(!t)return n.NextResponse.json({error:"N\xe3o autenticado"},{status:401});try{let{workDate:t,workDays:s,dailyRate:a,notes:i}=await e.json(),c=Number(s||0)*Number(a||0),{data:p,error:d}=await o.from("employee_work_records").insert([{employeeId:r.id,workDate:t,workDays:s,dailyRate:a,totalAmount:c,notes:i}]).select("*").single();if(d)throw d;return n.NextResponse.json(p,{status:201})}catch(e){return console.error("Erro ao criar registro de trabalho:",e),n.NextResponse.json({error:"Erro ao criar registro de trabalho"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/employees/[id]/work-records/route",pathname:"/api/employees/[id]/work-records",filename:"route",bundlePath:"app/api/employees/[id]/work-records/route"},resolvedPagePath:"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\api\\employees\\[id]\\work-records\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:h}=u,w="/api/employees/[id]/work-records/route";function y(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},748:(e,r,o)=>{o.d(r,{n:()=>s});var t=o(2305);async function s(e){let r=(0,t.createServerClient)("https://hyygforlvwbbdzpctnid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWdmb3JsdndiYmR6cGN0bmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNjY1NjksImV4cCI6MjA3ODg0MjU2OX0.1ih4fZRYRzg1oqZxAYonDPi5wO2-DHvb7anjcSPWeqs",{cookies:{getAll:()=>e.cookies.getAll(),setAll(r){r.forEach(({name:r,value:o})=>e.cookies.set(r,o))}}}),{data:{user:o}}=await r.auth.getUser();return{supabase:r,user:o}}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[8948,5972,2305],()=>o(2779));module.exports=t})();