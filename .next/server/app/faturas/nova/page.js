(()=>{var e={};e.id=6057,e.ids=[6057],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7900:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(5340),s(564),s(7629),s(5866);var t=s(3191),a=s(8716),n=s(7922),o=s.n(n),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let c=["",{children:["faturas",{children:["nova",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5340)),"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\faturas\\nova\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,564)),"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\faturas\\nova\\page.tsx"],m="/faturas/nova/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/faturas/nova/page",pathname:"/faturas/nova",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9212:(e,r,s)=>{Promise.resolve().then(s.bind(s,5004))},5004:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(326),a=s(434),n=s(7577),o=s(6499),i=s(5047);function l(){let e=(0,i.useRouter)(),[r,s]=(0,n.useState)([]),[l,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),[x,f]=(0,n.useState)(!0),g=e=>{c(e);let s=r.find(r=>r.id===e);m(s?s.price:0)},h=(d||0)+(u||0),b=async()=>{if(!l){alert("Selecione um agendamento");return}try{let r=await (0,o.Z$)({appointment_id:l,invoice_number:String(Math.floor(9e5*Math.random())+1e5),subtotal:d,tax:u,total:d+u,status:"pending"});e.push(`/faturas/${r.id}`)}catch(e){alert("Erro ao criar fatura")}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Nova Fatura"}),t.jsx(a.default,{href:"/faturas",className:"mt-3 sm:mt-0 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Voltar"})]}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 space-y-4",children:x?t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:"block",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Agendamento"}),(0,t.jsxs)("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:l,onChange:e=>g(e.target.value),children:[t.jsx("option",{value:"",children:"Selecione..."}),r.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.customers.name," â€¢ ",e.services.name]},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtotal (R$)"}),t.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:d,onChange:e=>m(Number(e.target.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Imposto (R$)"}),t.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:u,onChange:e=>p(Number(e.target.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total (R$)"}),t.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:h,readOnly:!0})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Criar Fatura"})})]})})]})}},5340:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var t=s(8570);let a=(0,t.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\app\faturas\nova\page.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let i=(0,t.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\app\faturas\nova\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,275,62],()=>s(7900));module.exports=t})();