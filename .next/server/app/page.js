(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6590:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>g,tree:()=>c}),s(7440),s(564),s(7629),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7440)),"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,564)),"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Enzo Marcelo\\Desktop\\testes SOLO TRAE\\crm casa limpa\\src\\app\\page.tsx"],x="/page",m={require:s,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3608:(e,t,s)=>{Promise.resolve().then(s.bind(s,209))},6557:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(7577),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:o,...x},m)=>(0,a.createElement)("svg",{ref:m,...r,width:i,height:i,stroke:s,strokeWidth:d?24*Number(l)/Number(i):l,className:["lucide",`lucide-${n(e)}`,c].join(" "),...x},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1821:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},209:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(326),r=s(7577);function n(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)([]),[o,x]=(0,r.useState)(""),m=(0,r.useRef)(null),g=(0,r.useMemo)(()=>({page:"dashboard"}),[]),p=()=>{c(e=>[...e,{role:"assistant",content:""}])},h=e=>{c(t=>{let s=[...t],a=s[s.length-1];return a&&"assistant"===a.role?a.content=String(a.content||"")+e:s.push({role:"assistant",content:e}),s})},y=e=>{if(!e)return},u=async e=>{let t=(e??s).trim();if(t){c([...d,{role:"user",content:t}]),l(!0),n("");try{let e=await fetch("/api/chatbot/assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:o,messages:[{role:"user",content:t}],context:g})}),s=e.headers.get("Content-Type")||"";if(e.body&&!s.includes("application/json")){p();let t=e.body.getReader(),s=new TextDecoder;for(;;){let{value:e,done:a}=await t.read();if(a)break;h(s.decode(e))}}else{let t=await e.json().catch(()=>null),s=String(t?.reply||"Sem resposta no momento.");c(e=>[...e,{role:"assistant",content:s,actions:t?.actions}])}}catch{c(e=>[...e,{role:"assistant",content:"Falha ao responder. Tente novamente."}])}finally{l(!1)}}};return a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e?(0,a.jsxs)("div",{className:"w-[360px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Assistente do CRM"}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-500",children:"âœ•"})]}),a.jsx("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:["Resumo financeiro do m\xeas","Quais pend\xeancias de agendamento hoje?","Criar cliente com nome e telefone","Gerar fatura para \xfaltimo servi\xe7o conclu\xeddo","Enviar lembrete de pagamento para faturas em atraso"].map(e=>a.jsx("button",{onClick:()=>u(e),className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 px-2 py-1 rounded",children:e},e))})}),(0,a.jsxs)("div",{ref:m,className:"h-72 overflow-y-auto px-3 py-2 space-y-2",children:[d.map((e,t)=>(0,a.jsxs)("div",{className:"user"===e.role?"text-right":"text-left",children:[a.jsx("div",{className:`inline-block px-3 py-2 rounded ${"user"===e.role?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 dark:text-gray-100"}`,children:e.content}),"assistant"===e.role&&e.actions&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{onClick:()=>y(e.actions),className:"text-sm bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-100 px-2 py-1 rounded",children:"Aplicar a\xe7\xe3o"})})]},t)),0===d.length&&a.jsx("div",{className:"text-sm text-gray-500",children:"Fa\xe7a perguntas de opera\xe7\xf5es, finan\xe7as, agenda e clientes."})]}),a.jsx("div",{className:"px-3 py-2 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{value:s,onChange:e=>n(e.target.value),placeholder:"Digite sua pergunta",className:"flex-1 border rounded px-2 py-2"}),a.jsx("button",{onClick:()=>u(),disabled:i,className:"bg-blue-600 text-white px-3 py-2 rounded",children:i?"...":"Enviar"})]})})]}):a.jsx("button",{onClick:()=>t(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow",children:"Assistente"})})}s(6499);var i=s(4061),l=s(7358),d=s(1821),c=s(7069);function o(){let[e,t]=(0,r.useState)({totalCustomers:0,totalAppointments:0,monthlyRevenue:0,pendingAppointments:0,totalEmployees:0}),[s,o]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0);return g?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Clientes"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e.totalCustomers})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(l.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Agendamentos"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e.totalAppointments})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(d.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita Mensal"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:["R$ ",e.monthlyRevenue.toLocaleString("pt-BR")]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(c.Z,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e.pendingAppointments})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.Z,{className:"h-8 w-8 text-indigo-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Funcion\xe1rios"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e.totalEmployees})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Pr\xf3ximos Agendamentos"})}),a.jsx("div",{className:"p-6",children:0===s.length?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum agendamento recente"}):a.jsx("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.customer.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.service.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:new Date(e.appointment_date).toLocaleDateString("pt-BR")}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.appointment_time})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Funcion\xe1rios Recentes"})}),a.jsx("div",{className:"p-6",children:0===x.length?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum funcion\xe1rio cadastrado"}):a.jsx("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.position})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.active?"Ativo":"Inativo"}),e.createdAt&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleDateString("pt-BR")})]})]},e.id))})})]}),a.jsx(n,{})]})}function x(){return a.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:a.jsx(o,{})})}},7440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=s(8570);let r=(0,a.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\app\page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let l=(0,a.createProxy)(String.raw`C:\Users\Enzo Marcelo\Desktop\testes SOLO TRAE\crm casa limpa\src\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,275,62],()=>s(6590));module.exports=a})();